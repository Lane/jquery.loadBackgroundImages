!function(n){function a(n){return bgProp=n.css("background-image"),"none"!==bgProp?n.css("background-image").match(/\((.*?)\)/)[1].replace(/('|")/g,""):(console.warn("element passed has no background-image to load",n[0]),null)}n.loadImage=function(n,a){var e=a,r=new Image;r.onload=function(){e.apply(this)},r.src=n,r.complete&&r.onload()},n.fn.loadBackgroundImages=function(e,r){function t(e){for(var r=0;r<g.length;r++){var t=a(n(g[r]));if(t===e)return g[r]}return null}function o(){var a=i.indexOf(this.src);if(0>a&&i.push(this.src),"function"==typeof s){var e=t(this.src);null==e&&(e=this),s.apply(n(e))}}function l(){c.length===i.length&&(clearInterval(f),"function"==typeof u&&u.apply(g))}var i=[],c=[],u=e,s=r,g=this,f=setInterval(l,200);return this.each(function(){imageUrl=a(n(this)),null!==imageUrl&&(c.push(imageUrl),new n.loadImage(imageUrl,o))})}}(jQuery);